{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'src/styles.css' %}">
    <title>Document</title>
</head>
<style>
    body {
        font-family: 'Inter', sans-serif;
        margin: 0;
        padding: 0;
        background-color: #1c1c1c;
        height: 100dvh;
    }
</style>

<body>

    <script src="https://cdn.tailwindcss.com"></script>
    <div class="w-full">
        <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js" defer></script>

        <div x-data="{ sidebarOpen: false }" class="flex h-screen bg-gray-200">
            <div :class="sidebarOpen ? 'block' : 'hidden'" @click="sidebarOpen = false"
                class="fixed inset-0 z-20 transition-opacity bg-black opacity-50 lg:hidden"></div>

            <div :class="sidebarOpen ? 'translate-x-0 ease-out' : '-translate-x-full ease-in'"
                class="fixed inset-y-0 left-0 z-30 w-64 overflow-y-auto transition duration-300 transform bg-gray-900 lg:translate-x-0 lg:static lg:inset-0">
                <a href="{% url 'main' %}">
                    <div class="flex items-center justify-center mt-8">
                        <div class="flex items-center">
                            <img class="w-12 h-12" src="{% static 'images/logo.png' %}"></img>
                            <span class="mx-2 text-2xl font-semibold text-white">AFK</span>
                        </div>
                    </div>
                </a>

                <nav class="mt-10">
                    {% if user.is_superuser %}
                    <a class="flex items-center px-6 py-2 mt-4 text-gray-500 hover:bg-gray-700 hover:bg-opacity-25 hover:text-gray-100"
                        href="{% url 'admin/users' %}">
                        <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 512 512" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M210.352 246.633c33.882 0 63.218-12.153 87.195-36.13 23.969-23.972 36.125-53.304 36.125-87.19 0-33.876-12.152-63.211-36.129-87.192C273.566 12.152 244.23 0 210.352 0c-33.887 0-63.22 12.152-87.192 36.125s-36.129 53.309-36.129 87.188c0 33.886 12.156 63.222 36.13 87.195 23.98 23.969 53.316 36.125 87.19 36.125zM144.379 57.34c18.394-18.395 39.973-27.336 65.973-27.336 25.996 0 47.578 8.941 65.976 27.336 18.395 18.398 27.34 39.98 27.34 65.972 0 26-8.945 47.579-27.34 65.977-18.398 18.399-39.98 27.34-65.976 27.34-25.993 0-47.57-8.945-65.973-27.34-18.399-18.394-27.344-39.976-27.344-65.976 0-25.993 8.945-47.575 27.344-65.973zM426.129 393.703c-.692-9.976-2.09-20.86-4.149-32.351-2.078-11.579-4.753-22.524-7.957-32.528-3.312-10.34-7.808-20.55-13.375-30.336-5.77-10.156-12.55-19-20.16-26.277-7.957-7.613-17.699-13.734-28.965-18.2-11.226-4.44-23.668-6.69-36.976-6.69-5.227 0-10.281 2.144-20.043 8.5a2711.03 2711.03 0 0 1-20.879 13.46c-6.707 4.274-15.793 8.278-27.016 11.903-10.949 3.543-22.066 5.34-33.043 5.34-10.968 0-22.086-1.797-33.043-5.34-11.21-3.622-20.3-7.625-26.996-11.899-7.77-4.965-14.8-9.496-20.898-13.469-9.754-6.355-14.809-8.5-20.035-8.5-13.313 0-25.75 2.254-36.973 6.7-11.258 4.457-21.004 10.578-28.969 18.199-7.609 7.281-14.39 16.12-20.156 26.273-5.558 9.785-10.058 19.992-13.371 30.34-3.2 10.004-5.875 20.945-7.953 32.524-2.063 11.476-3.457 22.363-4.149 32.363C.343 403.492 0 413.668 0 423.949c0 26.727 8.496 48.363 25.25 64.32C41.797 504.017 63.688 512 90.316 512h246.532c26.62 0 48.511-7.984 65.062-23.73 16.758-15.946 25.254-37.59 25.254-64.325-.004-10.316-.351-20.492-1.035-30.242zm-44.906 72.828c-10.934 10.406-25.45 15.465-44.38 15.465H90.317c-18.933 0-33.449-5.059-44.379-15.46-10.722-10.208-15.933-24.141-15.933-42.587 0-9.594.316-19.066.95-28.16.616-8.922 1.878-18.723 3.75-29.137 1.847-10.285 4.198-19.937 6.995-28.675 2.684-8.38 6.344-16.676 10.883-24.668 4.332-7.618 9.316-14.153 14.816-19.418 5.145-4.926 11.63-8.957 19.27-11.98 7.066-2.798 15.008-4.329 23.629-4.56 1.05.56 2.922 1.626 5.953 3.602 6.168 4.02 13.277 8.606 21.137 13.625 8.86 5.649 20.273 10.75 33.91 15.152 13.941 4.508 28.16 6.797 42.273 6.797 14.114 0 28.336-2.289 42.27-6.793 13.648-4.41 25.058-9.507 33.93-15.164 8.043-5.14 14.953-9.593 21.12-13.617 3.032-1.973 4.903-3.043 5.954-3.601 8.625.23 16.566 1.761 23.636 4.558 7.637 3.024 14.122 7.059 19.266 11.98 5.5 5.262 10.484 11.798 14.816 19.423 4.543 7.988 8.208 16.289 10.887 24.66 2.801 8.75 5.156 18.398 7 28.675 1.867 10.434 3.133 20.239 3.75 29.145v.008c.637 9.058.957 18.527.961 28.148-.004 18.45-5.215 32.38-15.937 42.582zm0 0"></path>
                        </svg>

                        <span class="mx-3">Пользователи</span>
                    </a>

                    <a class="flex items-center px-6 py-2 mt-4 text-gray-500 hover:bg-gray-700 hover:bg-opacity-25 hover:text-gray-100"
                        href="{% url 'admin/profiles' %}">
                        <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0.006988525390625 0 511.9861755371094 512"
                            stroke="currentColor">
                            <path d="M414.007 148.75c5.522 0 10-4.477 10-10V30c0-16.542-13.458-30-30-30h-364c-16.542 0-30 13.458-30 30v452c0 16.542 13.458 30 30 30h364c16.542 0 30-13.458 30-30v-73.672c0-5.523-4.478-10-10-10s-10 4.477-10 10V482c0 5.514-4.486 10-10 10h-364c-5.514 0-10-4.486-10-10V30c0-5.514 4.486-10 10-10h364c5.514 0 10 4.486 10 10v108.75c0 5.523 4.478 10 10 10z" ></path>
                            <path d="M212.007 54c-50.729 0-92 41.271-92 92 0 26.317 11.11 50.085 28.882 66.869.333.356.687.693 1.074 1 16.371 14.979 38.158 24.13 62.043 24.13 23.885 0 45.672-9.152 62.043-24.13a9.993 9.993 0 0 0 1.074-1c17.774-16.784 28.884-40.552 28.884-66.869 0-50.729-41.271-92-92-92zm0 164c-16.329 0-31.399-5.472-43.491-14.668 8.789-15.585 25.19-25.332 43.491-25.332s34.702 9.747 43.491 25.332C243.405 212.528 228.336 218 212.007 218zm-16-76v-6.5c0-8.822 7.178-16 16-16s16 7.178 16 16v6.5c0 8.822-7.178 16-16 16s-16-7.178-16-16zm73.94 46.683a69.375 69.375 0 0 0-29.463-24.697c4.71-6.087 7.523-13.712 7.523-21.986v-6.5c0-19.851-16.149-36-36-36s-36 16.149-36 36v6.5c0 8.274 2.813 15.899 7.523 21.986a69.375 69.375 0 0 0-29.463 24.697c-8.829-11.953-14.06-26.716-14.06-42.683 0-39.701 32.299-72 72-72s72 32.299 72 72c0 15.967-5.231 30.73-14.06 42.683zM266.007 438h-54c-5.522 0-10 4.477-10 10s4.478 10 10 10h54c5.522 0 10-4.477 10-10s-4.478-10-10-10zM266.007 382h-142c-5.522 0-10 4.477-10 10s4.478 10 10 10h142c5.522 0 10-4.477 10-10s-4.478-10-10-10zM266.007 326h-142c-5.522 0-10 4.477-10 10s4.478 10 10 10h142c5.522 0 10-4.477 10-10s-4.478-10-10-10zM88.366 272.93a10.077 10.077 0 0 0-7.079-2.93c-2.631 0-5.211 1.07-7.07 2.93-1.86 1.86-2.93 4.44-2.93 7.07s1.069 5.21 2.93 7.07a10.092 10.092 0 0 0 7.07 2.93c2.64 0 5.21-1.07 7.079-2.93 1.86-1.86 2.931-4.44 2.931-7.07s-1.07-5.21-2.931-7.07zM88.366 328.93a10.095 10.095 0 0 0-7.079-2.93c-2.631 0-5.2 1.07-7.07 2.93-1.86 1.86-2.93 4.44-2.93 7.07s1.069 5.21 2.93 7.07a10.092 10.092 0 0 0 7.07 2.93c2.64 0 5.21-1.07 7.079-2.93 1.86-1.86 2.931-4.44 2.931-7.07s-1.07-5.21-2.931-7.07zM88.366 384.93a10.095 10.095 0 0 0-7.079-2.93c-2.631 0-5.2 1.07-7.07 2.93-1.86 1.86-2.93 4.44-2.93 7.07s1.069 5.21 2.93 7.07a10.072 10.072 0 0 0 7.07 2.93c2.64 0 5.22-1.07 7.079-2.93 1.86-1.86 2.931-4.44 2.931-7.07s-1.07-5.21-2.931-7.07zM266.007 270h-142c-5.522 0-10 4.477-10 10s4.478 10 10 10h142c5.522 0 10-4.477 10-10s-4.478-10-10-10zM491.002 130.32c-9.715-5.609-21.033-7.099-31.871-4.196-10.836 2.904-19.894 9.854-25.502 19.569L307.787 363.656a10.016 10.016 0 0 0-1.278 3.891l-8.858 79.344a10.004 10.004 0 0 0 9.937 11.11 9.99 9.99 0 0 0 5.931-1.948l64.284-47.344a9.983 9.983 0 0 0 2.73-3.052l125.841-217.963c11.58-20.056 4.684-45.794-15.372-57.374zM320.063 426.394l4.626-41.432 28.942 16.71-33.568 24.722zm48.15-39.398-38.105-22 100.985-174.91 38.105 22-100.985 174.91zm120.841-209.303-9.857 17.073-38.105-22 9.857-17.073a21.855 21.855 0 0 1 13.358-10.25 21.85 21.85 0 0 1 16.694 2.198 21.855 21.855 0 0 1 10.25 13.358 21.856 21.856 0 0 1-2.197 16.694z"></path>
                        </svg>

                        <span class="mx-3">Профили</span>
                    </a>

                    <a class="flex items-center px-6 py-2 mt-4 text-gray-500 hover:bg-gray-700 hover:bg-opacity-25 hover:text-gray-100"
                        href="{% url 'admin/tasks' %}">
                        <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="6 6 52 48"
                            stroke="currentColor">
                            <path d="M32 26.473a2.956 2.956 0 0 0-2.854 2.073L28.1 31.781h-3.4a3 3 0 0 0-1.763 5.427l2.752 2-1.051 3.236a3 3 0 0 0 4.61 3.356l2.752-2 2.752 2a2.955 2.955 0 0 0 3.527 0 2.956 2.956 0 0 0 1.09-3.354l-1.051-3.236 2.752-2a3 3 0 0 0-1.763-5.427h-3.4l-1.051-3.235A2.957 2.957 0 0 0 32 26.473zm3.178 7.308h4.129a1 1 0 0 1 .588 1.81l-3.341 2.427a1 1 0 0 0-.363 1.117l1.276 3.927a1 1 0 0 1-1.539 1.119l-3.34-2.428a1 1 0 0 0-1.176 0l-3.34 2.428a1 1 0 0 1-1.539-1.119l1.276-3.927a1 1 0 0 0-.363-1.117l-3.341-2.427a1 1 0 0 1 .588-1.81h4.129a1 1 0 0 0 .951-.691l1.276-3.926a1 1 0 0 1 1.9 0l1.276 3.926a1 1 0 0 0 .953.691zM49 10h-3V9a3 3 0 0 0-6 0v1H27a1 1 0 0 0 0 2h13v3a3 3 0 0 0 6 0v-3h3a7.008 7.008 0 0 1 7 7v1H11a1 1 0 0 0 0 2h45v23a7.008 7.008 0 0 1-7 7H15a7.008 7.008 0 0 1-7-7V19a7.008 7.008 0 0 1 7-7h3v3a3 3 0 0 0 6 0V9a3 3 0 0 0-6 0v1h-3a9.01 9.01 0 0 0-9 9v26a9.01 9.01 0 0 0 9 9h34a9.01 9.01 0 0 0 9-9V19a9.01 9.01 0 0 0-9-9zm-5 5a1 1 0 0 1-2 0V9a1 1 0 0 1 2 0zM20 9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0z"></path>
                        </svg> 

                        <span class="mx-3">Занятия</span>
                    </a>

                    <a class="flex items-center px-6 py-2 mt-4 text-gray-500 hover:bg-gray-700 hover:bg-opacity-25 hover:text-gray-100"
                        href="{% url 'admin/notifications' %}">
                        <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="2 5 59.9901008605957 54"
                            stroke="currentColor">
                            <path d="m52.98 47.78-4.93-22.01a16.256 16.256 0 0 0-11.05-12V10c0-2.76-2.24-5-5-5s-5 2.24-5 5v3.77c-5.47 1.71-9.74 6.16-11.04 11.99l-4.93 22.01c-.11.51.18 1.02.69 1.18.24.07 5.24 1.55 15.29 1.95V54c0 2.76 2.24 5 5 5s5-2.24 5-5v-3.1c9.81-.4 15.03-1.86 15.28-1.94.5-.15.8-.66.69-1.18zM29 10c0-1.65 1.35-3 3-3s3 1.35 3 3v3.27c-.97-.17-1.98-.27-3-.27s-2.03.1-3 .27zm6 44c0 1.65-1.35 3-3 3s-3-1.35-3-3v-3.04c2.34.05 4.29.04 6 0zm-3-5c-10.33 0-16.6-1.21-18.81-1.73l4.72-21.07C19.39 19.61 25.18 15 32 15s12.61 4.61 14.09 11.2l4.72 21.06C48.54 47.78 42.1 49 32 49z"></path>
                            <path d="M32 17c-.55 0-1 .45-1 1s.45 1 1 1c4.99 0 9.23 3.64 10.32 8.86a1.004 1.004 0 0 0 1.19.78c.54-.11.89-.64.77-1.18C43 21.3 37.95 17 32 17zM59.83 41.45a1.01 1.01 0 0 0-1.39-.28c-.46.31-.58.93-.28 1.39 1.18 1.77 1.83 4.15 1.83 6.7 0 2.31-.55 4.53-1.55 6.24-.28.48-.12 1.1.36 1.37.59.33 1.18-.04 1.37-.36 1.17-2.02 1.82-4.59 1.82-7.25.01-2.94-.76-5.71-2.16-7.81zM54.32 43.27a.997.997 0 0 0-.05 1.41c1.12 1.2 1.73 2.8 1.73 4.5 0 1.54-.52 3.03-1.46 4.19-.35.43-.3 1.07.14 1.41.52.4 1.09.2 1.41-.14C57.41 53.2 58 51.18 58 49.18c0-2.21-.81-4.29-2.27-5.86a.988.988 0 0 0-1.41-.05zM4 48.75c0-2.31.55-4.53 1.55-6.24.28-.48.12-1.09-.36-1.37s-1.09-.12-1.37.36C2.65 43.52 2 46.09 2 48.75c0 2.94.77 5.71 2.17 7.81.19.29.81.65 1.39.28.46-.3.58-.93.28-1.39C4.65 53.67 4 51.3 4 48.75zM8 48.82c0-1.54.52-3.03 1.46-4.19.35-.43.28-1.06-.14-1.41a1.01 1.01 0 0 0-1.41.14A8.7 8.7 0 0 0 6 48.82c0 2.21.81 4.29 2.27 5.86.2.21.87.56 1.41.05.4-.38.43-1.01.05-1.41C8.61 52.12 8 50.53 8 48.82z"></path>
                        </svg>

                        <span class="mx-3">Уведомления</span>
                    </a>
                    {% endif %}

                    {% if user.is_superuser or user.is_staff %}
                    <a class="flex items-center px-6 py-2 mt-4 text-gray-100 bg-gray-700 bg-opacity-25"
                        href="{% url 'admin/confirmations' %}">
                        <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 585 585"
                            stroke="currentColor">
                            <path d="M463.125 219.375V243.75H438.75V268.125H414.375V292.5H390V316.875H365.625V341.25H341.25V365.625H316.875V390H292.5V414.375H243.75V390H219.375V365.625H195V341.25H170.625V316.875H146.25V292.5H121.875V268.125H146.25V243.75H170.625V219.375H195V243.75H219.375V268.125H243.75V292.5H292.5V268.125H316.875V243.75H341.25V219.375H365.625V195H390V170.625H414.375V195H438.75V219.375H463.125Z"></path>
                            <path d="M536.25 48.75V24.375H48.75V48.75H24.375V536.25H48.75V560.625H536.25V536.25H560.625V48.75H536.25ZM511.875 511.875H73.125V73.125H511.875V511.875Z"></path>
                        </svg>


                        <span class="mx-3">Подтверждения</span>
                    </a>
                    {% endif %}
                </nav>
            </div>
            <div class="flex flex-col flex-1 overflow-hidden">
                <header class="flex items-center justify-between px-6 py-4 bg-white border-b-4 border-indigo-600">
                    <div class="flex items-center">
                        <button @click="sidebarOpen = true" class="text-gray-500 focus:outline-none lg:hidden">
                            <svg class="w-6 h-6" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M4 6H20M4 12H20M4 18H11" stroke="currentColor" stroke-width="2"
                                    stroke-linecap="round" stroke-linejoin="round"></path>
                            </svg>
                        </button>
                    </div>
                    <div class="flex items-center">
                        <div class="relative">
                            <a href="{% url 'main' %}"><button class="bg-gray-700 p-2 rounded-full text-white">Назад</button></a>
                        </div>
                    </div>
                </header>
                <main class="flex-1 overflow-x-hidden overflow-y-hidden bg-gray-200">
                    <div class="container px-6 py-8 mx-0 rounded-none h-full">

                        <div class="mt-4">
                            <div class="flex flex-wrap -mx-6">
                                <div class="w-full px-6 sm:w-1/2 xl:w-1/3">
                                    <div class="flex items-center px-5 py-6 bg-white rounded-md shadow-sm mb-7">
                                        <div class="p-3 bg-indigo-600 bg-opacity-75 rounded-full">
                                            <svg class="w-8 h-8 text-white" viewBox="0 0 28 30" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <path
                                                    d="M18.2 9.08889C18.2 11.5373 16.3196 13.5222 14 13.5222C11.6804 13.5222 9.79999 11.5373 9.79999 9.08889C9.79999 6.64043 11.6804 4.65556 14 4.65556C16.3196 4.65556 18.2 6.64043 18.2 9.08889Z"
                                                    fill="currentColor"></path>
                                                <path
                                                    d="M25.2 12.0444C25.2 13.6768 23.9464 15 22.4 15C20.8536 15 19.6 13.6768 19.6 12.0444C19.6 10.4121 20.8536 9.08889 22.4 9.08889C23.9464 9.08889 25.2 10.4121 25.2 12.0444Z"
                                                    fill="currentColor"></path>
                                                <path
                                                    d="M19.6 22.3889C19.6 19.1243 17.0927 16.4778 14 16.4778C10.9072 16.4778 8.39999 19.1243 8.39999 22.3889V26.8222H19.6V22.3889Z"
                                                    fill="currentColor"></path>
                                                <path
                                                    d="M8.39999 12.0444C8.39999 13.6768 7.14639 15 5.59999 15C4.05359 15 2.79999 13.6768 2.79999 12.0444C2.79999 10.4121 4.05359 9.08889 5.59999 9.08889C7.14639 9.08889 8.39999 10.4121 8.39999 12.0444Z"
                                                    fill="currentColor"></path>
                                                <path
                                                    d="M22.4 26.8222V22.3889C22.4 20.8312 22.0195 19.3671 21.351 18.0949C21.6863 18.0039 22.0378 17.9556 22.4 17.9556C24.7197 17.9556 26.6 19.9404 26.6 22.3889V26.8222H22.4Z"
                                                    fill="currentColor"></path>
                                                <path
                                                    d="M6.64896 18.0949C5.98058 19.3671 5.59999 20.8312 5.59999 22.3889V26.8222H1.39999V22.3889C1.39999 19.9404 3.2804 17.9556 5.59999 17.9556C5.96219 17.9556 6.31367 18.0039 6.64896 18.0949Z"
                                                    fill="currentColor"></path>
                                            </svg>
                                        </div>

                                        <div class="mx-5">
                                            <h4 class="text-2xl font-semibold text-gray-700">{{ confirmations|length }}</h4>
                                            <div class="text-gray-500">Кол-во подтверждений</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="flex flex-col mt-8">
                            <div class="py-2 -my-2 overflow-x-auto sm:-mx-6 sm:px-6 lg:-mx-8 lg:px-8">
                                <div
                                    class="inline-block min-w-full overflow-hidden align-middle border-b border-gray-200 shadow sm:rounded-lg overflow-y-auto" style="max-height: 50vh;">
                                    <table class="min-w-full">
                                        <thead>
                                            <tr>
                                                <th
                                                    class="px-6 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase border-b border-gray-200 bg-gray-50 top-0 sticky">
                                                    Id</th>
                                                <th
                                                    class="px-6 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase border-b border-gray-200 bg-gray-50 top-0 sticky">
                                                    Файл с подтверждением</th>
                                                <th
                                                    class="px-6 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase border-b border-gray-200 bg-gray-50 top-0 sticky">
                                                    Описание</th>
                                                <th
                                                    class="px-6 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase border-b border-gray-200 bg-gray-50 top-0 sticky">
                                                    Task_id</th>
                                                <th
                                                    class="px-6 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase border-b border-gray-200 bg-gray-50 top-0 sticky">
                                                    User_id</th>
                                                <th class="px-6 py-3 border-b border-gray-200 bg-gray-50 position: sticky top-0"></th>
                                                <th class="px-6 py-3 border-b border-gray-200 bg-gray-50 position: sticky top-0"></th>
                                            </tr>
                                        </thead>

                                        {% for confirmation in confirmations %}
                                        <tbody class="bg-white">
                                            <tr>
                                                <td class="px-6 py-4 whitespace-no-wrap border-b border-gray-200">
                                                    <span>{{ confirmation.id }}</span>
                                                </td>

                                                <td class="px-6 py-4 whitespace-no-wrap border-b border-gray-200">
                                                    <a href="{{ MEDIA_URL }}{{ confirmation.file }}" download="{{ MEDIA_URL }}{{ confirmation.file }}" style="color: blue; text-decoration: underline;">{{ confirmation.file }}</a>
                                                </td>

                                                <td class="px-6 py-4 whitespace-no-wrap border-b border-gray-200">
                                                    <span>{{ confirmation.description }}</span>
                                                </td>

                                                <td class="px-6 py-4 whitespace-no-wrap border-b border-gray-200">
                                                    <span>{{ confirmation.task_id }}</span>
                                                </td>

                                                <td class="px-6 py-4 whitespace-no-wrap border-b border-gray-200">
                                                    <span>{{ confirmation.user_id }}</span>
                                                </td>
                                                <td
                                                    class="px-6 py-4 text-sm font-medium leading-5 text-right whitespace-no-wrap border-b border-gray-200">
                                                    <a href="#" class="text-indigo-600 hover:text-indigo-900" 
                                                    data-modal-target="crud-modal2" data-confirmation='{"id": "{{ confirmation.id }}"}'
                                                    data-modal-toggle="crud-modal2" onclick="openEditModal(event)">Подтвердить</a>
                                                </td>
                                                <td
                                                    class="px-6 py-4 text-sm font-medium leading-5 text-right whitespace-no-wrap border-b border-gray-200">
                                                    <a href="#" class="text-red-500 hover:text-red-600"
                                                        data-modal-target="popup-modal" data-confirmation='{"id": "{{ confirmation.id }}"}'
                                                        data-modal-toggle="popup-modal" onclick="openDeleteModal(event)">Отказать</a>
                                                </td>
                                            </tr>
                                        </tbody>
                                        {% endfor %}
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </main>
            </div>
        </div>
    </div>

    <!-- Modal window for delete -->
    <div id="popup-modal" tabindex="-1"
        class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full">
        <div class="relative p-4 w-full max-w-md max-h-full">
            <div class="relative bg-white rounded-lg shadow dark:bg-gray-700">
                <button type="button"
                    class="absolute top-3 end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white"
                    data-modal-hide="popup-modal">
                    <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none"
                        viewBox="0 0 14 14">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" />
                    </svg>
                    <span class="sr-only">Закрыть окно</span>
                </button>
                <div class="p-4 md:p-5 text-center">
                    <svg class="mx-auto mb-4 text-gray-400 w-12 h-12 dark:text-gray-200" aria-hidden="true"
                        xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M10 11V6m0 8h.01M19 10a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                    </svg>
                    <h3 class="mb-5 text-lg font-normal text-gray-500 dark:text-gray-400">Вы уверены, что хотите отклонить это подтверждение?</h3>
                    <button onclick="Delete(event)" data-modal-hide="popup-modal" type="button"
                        class="text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 dark:focus:ring-red-800 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center">
                        Да, уверен
                    </button>
                    <button data-modal-hide="popup-modal" type="button"
                        class="py-2.5 px-5 ms-3 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700">Нет, отмена</button>
                </div>
            </div>
        </div>
    </div>
    <!--  -->
    <!-- Modal window for accept -->

    <div id="crud-modal2" tabindex="-1"
    class="hidden    overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full">
        <div class="relative p-4 w-full max-w-md max-h-full">
            <div class="relative bg-white rounded-lg shadow dark:bg-gray-700">
                <button type="button"
                    class="absolute top-3 end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white"
                    data-modal-hide="crud-modal2">
                    <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none"
                        viewBox="0 0 14 14">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" />
                    </svg>
                    <span class="sr-only">Закрыть окно</span>
                </button>
                <div class="p-4 md:p-5 text-center">
                    <svg class="mx-auto mb-4 text-gray-400 w-12 h-12 dark:text-gray-200" aria-hidden="true"
                        xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M10 11V6m0 8h.01M19 10a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                    </svg>
                    <h3 class="mb-5 text-lg font-normal text-gray-500 dark:text-gray-400">Вы уверены, что хотите одобрить это подтверждение?</h3>
                    <button onclick="Accept(event)" data-modal-hide="crud-modal2" type="button"
                        class="text-white bg-green-500 hover:bg-green-800 focus:ring-4 focus:outline-none focus:ring-green-300 dark:focus:ring-green-800 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center">
                        Да, уверен
                    </button>
                    <button data-modal-hide="crud-modal2" type="button"
                        class="py-2.5 px-5 ms-3 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700">Нет, отмена</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.js"></script>
    <script>
    // Функция для получения CSRF токена
        function getCookie(name) {
            let cookieValue = null;
            if (document.cookie && document.cookie !== '') {
                const cookies = document.cookie.split(';');
                for (let i = 0; i < cookies.length; i++) {
                    const cookie = cookies[i].trim();
                    if (cookie.substring(0, name.length + 1) === (name + '=')) {
                        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                        break;
                    }
                }
            }
            return cookieValue;
        }

        const csrftoken = getCookie('csrftoken'); // Получаем CSRF токен

        function openEditModal(event){
            event.preventDefault();

            const confirmationData = JSON.parse(event.currentTarget.dataset.confirmation);
            
            accept_id = confirmationData.id;

            function Accept(event) {
                const baseUrl = window.location.origin;  // Получаем текущий протокол и домен (например, http://example.com)
                const url = new URL('admin/confirmations/accept/', baseUrl);  // Относительный путь будет комбинироваться с базовым URL
    
                fetch(url, {
                    method: "PATCH",
                    headers: {
                        'Content-Type': 'application/json',
                        'X-CSRFToken': csrftoken  // Добавляем CSRF токен в заголовки запроса
                    },
                    body: JSON.stringify({
                        'accept_id': accept_id,
                    })
                });
            }

            window.Accept = Accept;
        }

        function openDeleteModal(event) {
            // Остановим поведение по умолчанию
            event.preventDefault();
        
            // Получим значение data-user
            const confirmationData = JSON.parse(event.currentTarget.dataset.confirmation);
            
            refuse_id = confirmationData.id;
            
            function Delete(event) {
                const baseUrl = window.location.origin;  // Получаем текущий протокол и домен (например, http://example.com)
                const url = new URL('admin/confirmations/refuse/', baseUrl);  // Относительный путь будет комбинироваться с базовым URL

                fetch(url, {
                    method: "PATCH",
                    headers: {
                        'Content-Type': 'application/json',
                        'X-CSRFToken': csrftoken  // Добавляем CSRF токен в заголовки запроса
                    },
                    body: JSON.stringify({
                        'refuse_id': refuse_id
                    })
                });
            }

            window.Delete = Delete;
        }
    </script>
</body>

</html>